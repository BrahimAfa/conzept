!function(t,i){var e=0,n=null,r=[],o=null;t.fn.split=function(i){var s,l,a=this.data("splitter");if(a)return a;var h,p=t.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:t.noop,onDragEnd:t.noop,onDrag:t.noop,percent:!1},i||{});this.settings=p;var u=this.children();"vertical"==p.orientation?(s=u.first().addClass("left_panel"),l=s.next().addClass("right_panel"),h="vsplitter"):"horizontal"==p.orientation&&(s=u.first().addClass("top_panel"),l=s.next().addClass("bottom_panel"),h="hsplitter"),p.invisible&&(h+=" splitter-invisible");var g=this.width(),d=this.height(),c=e++;this.addClass("splitter_panel");var f,v=t("<div/>").addClass(h).bind("mouseenter touchstart",(function(){n=c})).bind("mouseleave touchend",(function(){n=null})).insertAfter(s);function m(t){if("number"==typeof t)return t;if("string"==typeof t){var i=t.match(/^([0-9\.]+)(px|%)$/);if(i){if("px"==i[2])return+i[1];if("vertical"==p.orientation)return g*+i[1]/100;if("horizontal"==p.orientation)return d*+i[1]/100}}}var b,z,w=t.extend(this,{refresh:function(){var t=this.width(),i=this.height();g==t&&d==i||(g=this.width(),d=this.height(),w.position(f))},option:function(t,i){return"position"===t?w.position(i):void 0===i?p[t]:(p[t]=i,w)},position:"vertical"==p.orientation?function(t,i){if(void 0===t)return f;f=m(t);var e,n=v.width(),r=n/2,o=w.width();if(p.invisible)e=s.width(f).outerWidth(),l.width(o-e),v.css("left",e-r);else if(p.percent){var a=(f-r)/o*100;e=s.css("width",a+"%").outerWidth(),l.css("width",(o-e-n)/o*100+"%"),v.css("left",e/o*100+"%")}else e=s.css("width",f-r).outerWidth(),l.width(o-e-n),v.css("left",e);return s.find(".splitter_panel").eq(0).height(w.height()),l.find(".splitter_panel").eq(0).height(w.height()),i||(w.trigger("splitter.resize"),w.find(".splitter_panel").trigger("splitter.resize")),w}:"horizontal"==p.orientation?function(t,i){if(void 0===t)return f;f=m(t);var e,n=v.height(),r=n/2,o=w.height();if(p.invisible)e=s.height(f).outerHeight(),l.height(o-e),v.css("top",e-r);else if(p.percent){var a=(f-r)/o*100;e=s.css("height",a+"%").outerHeight(),l.css("height",(o-e-n)/o*100+"%"),v.css("top",e/o*100+"%")}else e=s.height(f-r).outerHeight(),l.height(o-e-n),v.css("top",e);return i||(w.trigger("splitter.resize"),w.find(".splitter_panel").trigger("splitter.resize")),w}:t.noop,orientation:p.orientation,limit:(b=p.limit,!isNaN(parseFloat(b))&&isFinite(b)?{leftUpper:b,rightBottom:b}:b),isActive:function(){return n===c},destroy:function(){w.removeClass("splitter_panel"),v.unbind("mouseenter"),v.unbind("mouseleave"),v.unbind("touchstart"),v.unbind("touchmove"),v.unbind("touchend"),v.unbind("touchleave"),v.unbind("touchcancel"),"vertical"==p.orientation?(s.removeClass("left_panel"),l.removeClass("right_panel")):"horizontal"==p.orientation&&(s.removeClass("top_panel"),l.removeClass("bottom_panel")),w.unbind("splitter.resize"),w.trigger("splitter.resize"),w.find(".splitter_panel").trigger("splitter.resize"),r[c]=null,e--,v.remove(),w.removeData("splitter");for(var i=!1,n=r.length;n--;)if(null!==r[n]){i=!0;break}i||(t(document.documentElement).unbind(".splitter"),t(window).unbind("resize.splitter"),r=[],e=0)}});w.bind("splitter.resize",(function(t){var i=w.position();"vertical"==w.orientation&&i>w.width()?i=w.width()-w.limit.rightBottom-1:"horizontal"==w.orientation&&i>w.height()&&(i=w.height()-w.limit.rightBottom-1),i<w.limit.leftUpper&&(i=w.limit.leftUpper+1),t.stopPropagation(),w.position(i,!0)})),"vertical"==p.orientation?z=z>g-p.limit.rightBottom?g-p.limit.rightBottom:m(p.position):"horizontal"==p.orientation&&(z=z>d-p.limit.rightBottom?d-p.limit.rightBottom:m(p.position)),z<p.limit.leftUpper&&(z=p.limit.leftUpper),w.position(z,!0);var _=this.closest(".splitter_panel");return _.length&&this.height(_.height()),0===r.filter(Boolean).length&&(t(window).bind("resize.splitter",(function(){t.each(r,(function(t,i){i&&i.refresh()}))})),t(document.documentElement).on("mousedown.splitter touchstart.splitter",(function(i){null!==n&&(i.preventDefault(),o=r[n],setTimeout((function(){t('<div class="splitterMask"></div>').css("cursor",o.children().eq(1).css("cursor")).insertAfter(o)})),o.settings.onDragStart(i))})).bind("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.splitter",(function(i){o&&(setTimeout((function(){t(".splitterMask").remove()})),o.settings.onDragEnd(i),o=null)})).bind("mousemove.splitter touchmove.splitter",(function(t){if(null!==o){o.limit.leftUpper;var i=o.limit.rightBottom,e=o.offset();if("vertical"==o.orientation){var n=t.pageX;t.originalEvent&&t.originalEvent.changedTouches&&(n=t.originalEvent.changedTouches[0].pageX);var r=n-e.left;r<=o.limit.leftUpper?r=o.limit.leftUpper+1:r>=o.width()-i&&(r=o.width()-i-1),r>o.limit.leftUpper&&r<o.width()-i&&(o.position(r,!0),o.trigger("splitter.resize"),o.find(".splitter_panel").trigger("splitter.resize"))}else if("horizontal"==o.orientation){var s=t.pageY;t.originalEvent&&t.originalEvent.changedTouches&&(s=t.originalEvent.changedTouches[0].pageY);var l=s-e.top;l<=o.limit.leftUpper?l=o.limit.leftUpper+1:l>=o.height()-i&&(l=o.height()-i-1),l>o.limit.leftUpper&&l<o.height()-i&&(o.position(l,!0),o.trigger("splitter.resize"),o.find(".splitter_panel").trigger("splitter.resize"))}o.settings.onDrag(t)}}))),r[c]=w,w.data("splitter",w),w}}(jQuery);
