{
  "version": 3,
  "sources": ["../src/transform.js"],
  "sourcesContent": ["// \u00A9 Copyright 2020-2021, J. Poulsen. All Rights Reserved.\n\"use strict\";\n\nlet hash = '';\n\nlet isMobile                      = detectMobile();\nlet isSafari                      = detectSafari();\n\nlet nr_of_sections                = 0;\n\nlet image_width_string            = '/900px-';\nlet min_image_width_for_enlarge   = 60;\nlet min_image_height_for_enlarge  = 60; // 40?\n\nif ( window.location.hash ) {\n  // do nothing, fragment exists\n} \nelse {\n\n\t// TODO: also set parent-window hash?\n\twindow.location.hash = '#';\n\n}\n\n/*\n// see: https://github.com/viebel/klipse\nwindow.klipse_settings = {\n  // css selector for the html elements you want to klipsify\n  selector_eval_js: '.mw-highlight-lang-scheme',\n  //selector_eval_js: '.language-klipse-eval-js',\n};\n*/\n\n//console.log('window.location.hash: ', window.location.hash );\n\n$( document ).ready(function() {\n\n  if ( isMobile ){\n\n    image_width_string = '/500px-';\n\n  }\n  else if ( $('img').length > 100 ){ // for articles with many images: lazy load them as smaller images\n\n    image_width_string = '/400px-';\n      \n  }\n\n  if ( isMobile ){\n\n    parentref = parent;\n\n  }\n  else { // desktop\n\n    if ( window.parent.name === 'infoframeSplit2' || window.parent.name === 'infoframe_' ){ // request from secondary content iframe\n      parentref = parent;\n    }\n    else { // primary content frame\n      parentref = parent.top;\n    }\n\n  }\n\n  // allow any left-click to close the ULS-window in the sidebar\n  $(document).click(function(e) {\n\n    parentref.postMessage({ event_id: 'uls-close', data: { } }, '*' );\n\n  });\n\n  let image_modal_bg_color = '#fbfaf9';\n\n  if ( typeof fontsize !== 'undefined' ){\n    $('body').css('font-size', fontsize + 'px'); \n  }\n\n  // cleanup wikipedia html\n\n  $('.mw-empty-elt').remove();\n  $('.mw-editsection-divider').remove();\n\n  // TODO: research how important showing the Ambox is, see also: https://en.wikipedia.org/wiki/Template:Ambox\n  $('table.ambox').remove();\n  $('table.stub').remove();\n\n  // remove video-play text-link\n  $('.play-btn-large').remove();\n\n  //$('.haudio').remove(); // TODO: example: https://conze.pt/explore/Friedrich%20Nietzsche\n\n  //  prepare MIDI-elements\n  $( \"a.internal[title$='.mid']\" ).addClass('midi');\n\n  // TODO: these needs further styling improvements:\n  $('.noprint').not('.noprint.navbox').not('.side-box').not('.listen').not('[role=\"presentation\"]').remove();\n\n  $('.mbox-small.noprint[role=\"presentation\"]').addClass('media-block');\n\n  //console.log( 'audio 3: ', $('.haudio') );\n\n  $('.mw-authority-control').remove();\n  $('img.noviewer').parent().remove();\n\n  $('.plainlinks').remove();  // TODO: verify this can always be removed!\n  $('div.hatnote:empty').remove();\n\n  $('.hatnote a').each(function(){ $(this).addClass('main_template_info'); });\n\n  //$('table.sidebar').addClass('infobox'); // check \"sidebar\"-naming for other language-wikis\n\n  // set the hatnote-style (for other languages than english)\n  // TODO: design better multi-lingual hatnote-styling support\n  if ( language === 'fr' ){\n    $('.bandeau-cell a').each(function(){ $(this).addClass('main_template_info'); });\n  }\n  else if ( language === 'de' ){\n    $('.hauptartikel a').each(function(){ $(this).addClass('main_template_info'); });\n  }\n  else if ( language === 'nl' ){\n    $('div[role=\"note\"] a').each(function(){ $(this).addClass('main_template_info'); });\n  }\n\n  $('.mbox-small.plainlinks.sistersitebox').remove();\n  $('.metadata.mbox-small').remove(); // could be kept if styled better, example: https://conze.pt/explore/Wikidata?l=en&t=link&s=true&u=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FWikidata\n\n  $('table.infoboks').addClass('infobox'); // Norway wikipedia\n  $('table.sinottico').addClass('infobox'); // ?\n  $('table.vertical-navbox').addClass('infobox'); // ?\n\n  if ( ! isMobile ){\n    $('div#toc').remove();\n  }\n\n  $('.tocright').remove();\n\n  $('img.thumbimage').not('.mwe-math-fallback-image-inline').not('.noviewer').not('.gallery-image').not('.no-enlarge').each(function( index ){\n\n    $(this).unwrap(); // unwrap: <a href=\"/wiki/File:Bulgaria_6200BC_neolithic_Chavdar_culture.jpg\" class=\"image\">\n\n  });\n\n  // clean article headers\n  $('h1,h2,h3,h4,h5,h6').each(function(){\n\n    $(this).find('a').remove();\n\n    let h = $(this).text();\n    h = h.replace('[', ' ');\n    h = h.replace(']', ' '); // FIXME: why cant this be empty?\n\n    $(this).text( h );\n\n  });\n\n  // end of cleanup\n\n\tsetupKeys();\n\n  setupToc();\n\n  if ( explore.language_direction === 'rtl' ){\n\n    $( 'body' ).css( 'direction', 'rtl', 'important' );\n\n    //$( 'main' ).css( 'direction', 'rtl', 'important' );\n    //$( 'aside' ).css(  'direction', 'rtl', 'important' );\n\n  }\n\n  setupArticleImages();\n\n  setupLinks();\n\n  setupAudiomassLinks();\n  setupClicks();\n\n  // insert section IDs: TODO move this to its own function\n  $('p').not('table p').each(function( index ){\n\n    $(this).addClass('sid');\n    $(this).attr(\"id\", index );\n\n  });\n\n  //setupMIDI(); // enable again when \"html-midi.js\" can ONLY be loaded on desktop-devices\n\n  setupImageClicks();\n\n  setupAudioClicks();\n\n  setupImageZoom();\n\n\tsetupULS();\n\n  // wrap reference-lists in a <detail> element\n  $('div.reflist').wrap('<details class=\"reflist-block\"></details>');\n  $('details.reflist-block').prepend('<summary title=\"show / hide references\"><i class=\"fa-regular fa-folder-open\"></i></summary>');\n\n  // wrap navboxes in a <detail> element\n  $('.navbox').wrap('<details class=\"navbox-block\"></details>');\n  $('details.navbox-block').prepend('<summary title=\"show / hide navbox\"><i class=\"fa-regular fa-folder-open\"></i> navbox</summary>');\n\n  // all done now, show the content\n  $('main.explore').css({ 'visibility' : 'visible' });\n\n  if ( !isMobile ){\n\n    // go to initial URL hash\n    window.location.hash = \"#\" + explore.hash; // NOTE: this breaks the mobile layout!\n\n\t  if ( valid( $( window.location.hash )[0] ) ){\n\n\t    $( window.location.hash )[0].scrollIntoView();\n\t    //$( window.location.hash )[0].scrollIntoView({ block: \"start\", inline: \"nearest\" });\n\n      //const element = document.getElementById( explore.hash );\n      //const y = element.getBoundingClientRect().top + window.pageYOffset + 40;\n      //window.scrollTo({top: y, behavior: 'smooth'});\n\n    }\n\n  };\n\n  addSectionTTS(); // add section TTS play buttons\n\n  if ( explore.autospeak ){ // speak article\n\n    //console.log('autospeaking');\n    startSpeaking();\n\n  }\n\n  // update JSON-LD info\n  explore.ld.text = $('.sid#0, .sid#1').text().replace(/\\[\\d+\\]/g, ''); // get first paragraphs as text, and remove all brackets-with-numbers\n  //console.log( explore.ld );\n\n  parentref.postMessage({ event_id: 'update-jsonld', data: { fields: explore.ld, } }, '*' );\n\n  // send message to main-app that the page has been rendered\n  parentref.postMessage({ event_id: 'page-rendered', data: { } }, '*' );\n\n});\n\nfunction setupLinks(){\n\n  $('a.external').each(function( index ){\n\n    $(this).addClass('link');\n\n  });\n\n  // register links\n  $('a').not('a.link.external').not('a.link.internal').each(function( index ){\n\n    let link = $(this).attr('href') || '';\n    let title_ = $(this).attr('href') || '';\n\n    if ( link.startsWith( explore.base + '/explore/') ){ // wikipedia link\n\n      $(this).addClass('link');\n      $(this).attr('href', link.replace('/explore/', '') );\n\n    \ttitle_ = title_.replace('/explore/', '');\n\n    }\n    else if ( link.startsWith('#') ){ // internal link\n\n      $(this).addClass('internal hash');\n\n    \ttitle_ = ''; // FIXME use title + hash to open in new tab\n\n    }\n    else if ( link.startsWith('/w/index.php?title=') || link.endsWith('redlink=1') ){ // missing link\n\n      $(this).addClass('missing-link');\n\n      let href = 'https://' + language + '.wikipedia.org' + $(this).attr('href');\n      $(this).attr('href', href );\n\n    \ttitle_ = ''; // FIXME: link to wikipedia\n\n    }\n\n\t\t// handle middle-mouse-click\n\t\tif ( title_ !== '' ){\n\n\t\t\tconst args = {\n        type      : 'wikipedia',\n        title     : title_,\n        language  : language,\n      };\n\n\t\t\tlet onauxclick = 'onMiddleClick( \"' + encodeURIComponent( JSON.stringify( args ) ) + '\" )';\n\n\t\t\t$(this).attr('onauxclick', onauxclick );\n\n\t\t}\n\n  });\n\n  // external links that can not be safely loaded in the iframe\n  $('a.link.external').attr(\"target\",\"_blank\");\n  $('a.external').attr(\"target\",\"_blank\"); // TODO: this line can be removed.\n  $('a.missing-link').attr(\"target\",\"_blank\");\n\n  // setup preview on links\n  if ( explore.linkpreview === true || explore.linkpreview === 'true' ){\n\n    // see: https://github.com/wikimedia/wikipedia-preview\n    wikipediaPreview.init({\n\n      root: document.querySelector('main'),\n      selector: 'a.link', // TODO, specify this more precise (only wikipedia links!)\n      //popupContainer: '.popup-container',\n      lang: language,\n\n    });\n\n  }\n\n}\n\nfunction setupClicks(){\n\n  // external links that can safely loaded in the iframe\n\t$('a.link.framed').on(\"click\", function (e) {\n\t\te.preventDefault();\n    window.open( $(this).attr('href'), '_blank'); // TODO change to \"_self\" when back-forward-movement works\n\t});\n\n  // internal explore link\n\t$('a.link.explore').on(\"click\", function (e) {\n\n\t\te.preventDefault();\n    //console.log('001: ', title, language, hash );  \n\n    parentref.postMessage({ event_id: 'show-loader', data: { } }, '*' );\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'explore', title: title, hash: hash, language: language, } }, '*' );\n\n\t});\n\n  // wikipedia links\n  $('a.link').not('a.link.external').not('a.link.internal').not('a.link.framed').not('a.link.explore').not('a.link.random').on(\"click\", function (e) {\n\n\t\te.preventDefault();\n\n    hash = $(this).attr('href').split('#')[1] || '';\n\n\t\ttitle =  $(this).attr('href').split('#')[0].replace(/_/g, ' ');\n\t\ttitle =  title.replace(/\\.\\/|_|<i>|<\\/i>|<b>|<\\/b>/g, '');\n\n    if ( explore.embedded ){\n\n      location.href = explore.base + '/app/wikipedia/?t=' + encodeURIComponent( title ) + '&l=' + language;\n\n    }\n\t\telse if ( explore.keyboard_ctrl_pressed ){ // click with CTRL-key -> open link in new tab\n\n\t\t\texplore.keyboard_ctrl_pressed = false;\n\n\t\t\t//const open_in_new_tab_code = e.target.getAttribute(\"onauxclick\");\n      //console.log( open_in_new_tab_code );\n\t\t\t//if ( valid( open_in_new_tab_code ) ){\n        //console.log( 'valid code');\n\n        const url = explore.base + '/explore/' + encodeURIComponent( title ) + '?l=' + language;\n\n        openInNewTab( url );\n\n\t\t\t\t//eval( open_in_new_tab_code );\n\n\t\t\t//}\n\n\t\t\treturn 0;\n\n\t\t}\n    else {\n\n      parentref.postMessage({ event_id: 'show-loader', data: { } }, '*' );\n      parentref.postMessage({ event_id: 'handleClick', data: { type: 'wikipedia', title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n    }\n\n    hash = ''; // reset hash\n\n\t});\n\n\n  // handle \"#foobar\" internal links\n  window.onhashchange = locationHashChanged;\n\n}\n\nfunction locationHashChanged() {\n\n  // ugly... but we assume we need to see the references\n  if ( window.location.hash.startsWith('#cite') ){\n\n    $('details.reflist-block').attr('open', '');\n\n\t  $( window.location.hash )[0].scrollIntoView();\n\n  }\n\n  // update hash in parent-window\n  parentref.postMessage({ event_id: 'hash-change', data: { hash: window.location.hash  } }, '*' );\n\n}\n\nfunction setupArticleImages(){\n\n  if ( $('title').text().startsWith('Portal:') || $('title').text().startsWith('Book:') ){\n    // do nothing\n  }\n  else { // wiki-text page\n\n\t\t// fix \"kartographer-map\"-URLs (else we get a 403 \"access-forbidden\" error-code for these URLs)\n\t\t$('a.mw-kartographer-map img').each(function( index ){\n\n\t\t\t// replace the used URLs with a CORS-enabled one\n\t\t\tconst url = explore.base + '/app/cors/raw/?url=' + encodeURIComponent( $(this).attr('src') );\n\n      $(this).attr('src', url );\n      $(this).attr('srcset', url + ' 2x');\n\n\t\t});\n\n    // CASE 1: handle thumbnail media\n    $('img.thumbimage').not('.mwe-math-fallback-image-inline').not('.noviewer').not('.gallery-image').not('.no-enlarge').each(function( index ){\n\n      $(this).unwrap().unwrap();\n\n      $(this).removeAttr( 'width' ).removeAttr( 'height' );\n\n      let caption = '';\n      let caption_plaintext = '';\n\n      if ( $('title').text().startsWith('Portal:') || $('title').text().startsWith('Book:') ){\n        // do nothing\n      }\n      else {\n\n        let el = $(this).next();\n\n        if ( el.attr('class') ===  'thumbcaption' ) {\n\n          el.find('.magnify').remove();\n          caption = el.html();\n          caption_plaintext = el.text().replace(/\"/g, '&quot;');\n\n          el.remove();\n\n        }\n\n      }\n\n      // image-URL\n      let src = $(this)[0].src.replace(/wikipedia.org\\//, language + '.wikipedia.org/') || ''; // TODO: could this be wikicommons too?\n\n      let file_url = src.split('?')[0].trim();\n\n\t\t\tif ( file_url.endsWith('.ogv.jpg') || file_url.endsWith('.webm.jpg') ){ // render as video\n\n        let thumb = file_url;\n\n        file_url = $(this).next('a')[0].href;\n        $(this).next('a').remove();\n\n        if ( $(this).next().hasClass('thumbcaption') ){\n\n          caption = $(this).next().html();\n          $(this).next().remove();\n\n        }\n\n        let video_caption = '';\n\n        if ( caption !== '' ){\n          video_caption = '<figcaption>' + caption + '</figcaption>';\n        }\n\n        $(this).unwrap().unwrap().replaceWith( '<figure style=\"max-width:100% !important;\"><video class=\"inline-video\" width=\"100% !important\" poster=\"' + thumb + '\" controls><source src=\"' + file_url + '\"></video>' + video_caption + '</figure>' );\n\n      }\n\t\t\telse if ( file_url.endsWith('.stl.png') ){ // render as 3D model\n\n        let thumb = src.replace( /\\/\\d+px\\-/g, image_width_string );\n\n        src = src.replace( /.*\\/\\d+px\\-/g, '').replace( /\\.stl\\.png$/g, '.glb')\n        let model_url = '../explore2/assets/models/glb/draco/' + src; \n        let model_name = src.replace( /_/g, ' ' ).replace( /\\.glb$/g, '' ); \n        let model_id = 'model-' + guidGenerator();\n        //let environment-image = 'environment-image=\"https://conze.pt/app/explore2/assets/images/skybox/aircraft_workshop_01_1k.hdr;\n        //let skybox = '';\n        //let skybox = '\" skybox-image=\"https://conze.pt/app/explore2/assets/images/skybox/adams_place_bridge_2k.hdr\" '; // see also: https://hdrihaven.com\n\n        // remove parent 'thumb'-class for a better layout\n        if ( $(this).parent().hasClass('thumb') ){\n\n          $(this).parent().removeClass('thumb');\n\n        }\n\n        let model_html = '<model-viewer id=\"' + model_id + '\" class=\"model-view\" title=\"' + model_name + '\" data-name=\"' + model_name + '\" src=\"' + model_url + '\" environment-image=\"../explore2/assets/images/skybox/aircraft_workshop_01_1k.hdr\" exposure=\"0.64\" shadow-intensity=\"0\" shadow-softness=\"0\" ar ar-modes=\"scene-viewer quick-look\" camera-controls loading=\"lazy\" poster=\"' + thumb + '\" ><button class=\"model-view-button\" id=\"model-view-ar-button\" title=\"AR button\" slot=\"ar-button\">AR</button><button title=\"fullscreen toggle\" class=\"model-view-button\" id=\"model-view-fullscreen-button\" onclick=\"screenfull.toggle(document.getElementById(&quot;' + model_id + '&quot;))\"><i class=\"fa-solid fa-expand\"></i></button><div class=\"model-title\">' + caption_plaintext + '</div></model-viewer>'; \n\n        $(this)[0].src = src;\n        let img_html = $(this).html();\n\n        $(this)\n          .wrap( '<figure class=\"model-media\"></figure>' )\n          .wrap( model_html );\n\n      }\n      else { // render as image\n\n        src = src.replace( /\\/\\d+px\\-/g, image_width_string );\n\n        $(this)[0].src = src;\n        let img_html = $(this).html();\n\n        $(this)\n          .wrap( '<figure class=\"non-thumb-media\"></figure>' )\n          .after('</span> <figcaption>' + caption + '</figcaption>')\n          //.after('<span class=\"copyright\"><a id=\"image-source\" title=\"source\" aria-label=\"source\" target=\"_blank\" href=\"' + src + '\"><i class=\"fa-regular fa-copyright fa-2x\"></i></a></span> <figcaption>' + caption + '</figcaption>')\n          .wrap('<a href=\"' + src + '\" class=\"elem\" data-lcl-txt=\"' + caption_plaintext + '\" data-articulate-ignore=\"\" tabindex=\"0\"></a>');\n\n      }\n\n    });\n\n    // CASE 2: handle non-thumbnail media\n    $('img').not('img.thumbimage').not('.mwe-math-fallback-image-inline').not('.noviewer').not('.gallery-image').not('.no-enlarge').each(function( index ){\n\n      let caption = '';\n      let caption_plaintext = '';\n\n      let src = $(this)[0].src.replace(/wikipedia.org\\//, language + '.wikipedia.org/') || ''; // TODO: could this be wikicommons too?\n\n      let file_url = src.split('?')[0].trim();\n\n      // check if we need to unwrap the media\n      if ( ! $(this).parent().is( 'a' ) ){ // not a linked image\n\n\t\t\t  if ( file_url.endsWith('.ogv.jpg') || file_url.endsWith('.webm.jpg') ){ // render as video\n          // do nothing\n        }\n        else { // non-linked image-media: don't unwrap these!\n\n          // TODO: research what these other images are (icons, etc.) and determine how to handle them best.\n          //console.log( 'not unwraping this image: ', $(this)[0].src, $(this).parent() );\n\n          return 1;\n\n        }\n\n      }\n\n      // FIXME: exclude \"unwrapping\" some images on this page: https://conze.pt/explore/Octagrammic%20prism?l=en&t=wikipedia&s=true\n      $(this).unwrap();\n\n\t\t\tif ( file_url.endsWith('.ogv.jpg') || file_url.endsWith('.webm.jpg') ){ // render as video\n\n        let thumb = file_url;\n\n        file_url = $(this).next('a')[0].href;\n        $(this).next('a').remove();\n\n        if ( $(this).next().hasClass('thumbcaption') ){\n\n          caption = $(this).next().html();\n          $(this).next().remove();\n\n        }\n\n        let video_caption = '';\n\n        if ( caption !== '' ){\n          video_caption = '<figcaption>' + caption + '</figcaption>';\n        }\n\n        $(this).unwrap().unwrap().replaceWith( '<figure style=\"max-width:100% !important;\"><video class=\"inline-video\" width=\"100% !important\" poster=\"' + thumb + '\" controls><source src=\"' + file_url + '\"></video>' + video_caption + '</figure>' );\n\n      }\n      else { // render as image\n\n        let figstyle = '';\n\n        // skip icons\n        if (  $(this).attr('width') < min_image_width_for_enlarge ||\n              $(this).attr('height') < min_image_height_for_enlarge\n          ){\n\n          $(this).removeClass('enlargable');\n\n          return 0;\n\n        }\n\n        if( $(this).hasClass( 'thumbborder' ) ){\n          figstyle = 'width: initial;';\n        }\n\n        src = src.replace( /\\/\\d+px\\-/g, image_width_string );\n\n        $(this).wrap('<a href=\"' + src + '\" class=\"elem\" data-lcl-txt=\"' + caption_plaintext + '\" data-articulate-ignore=\"\"></a>').wrap( '<figure style=\"' + figstyle + '\"></figure>' );\n\n      }\n\n    });\n\n  }\n\n  // remove extra parent-image-element around figure-element\n  if ( $('title').text().startsWith('Portal:') || $('title').text().startsWith('Book:') ){\n    $('a.image figure').unwrap();\n  }\n\n  // style exception: correct clade-leaf figure + img styling\n  $('.clade-leaf figure').each(function( index ){\n\n    $(this).css( {\n\n      'max-width': 'none',\n      'width': 'auto',\n      'float': 'none',\n      'margin': '1em 0em 0em 1em',\n      'clear': 'none',\n      'padding-left': 'initial',\n      'position': 'relative',\n\n    });\n\n  });\n\n  $('.clade-leaf img').each(function( index ){\n\n    $(this).css( {\n\n      'width': 'auto',\n      'float': 'none',\n\n    });\n\n  });\n\n\n  // for each gallery-image: also add the caption to the image-element\n  $('li.gallerybox').each(function( index ){\n\n    // get caption-text\n    const caption = $(this).find('.gallerytext').text() || '';\n\n    // add it to the image-element\n    $(this).find('a.elem').attr('data-lcl-txt', caption );\n\n  });\n\n  // image-map fix\n  $('div.locmap').each(function( index ){\n\n \t\t// move all map-markers into the figure-element\n\t\t$( $(this).find('div.od') ).appendTo( $(this).find('figure') );\n\n  });\n \n}\n\nfunction setupToc(){\n\n  $('h1,h2,h3,h4,h5,h6').each(function(){\n\n    const head = $(this).text();\n\n    // remove some sections\n    if ( head.startsWith('Book:') ){\n      $(this).parent().remove();\n      return true;\n    }\n\n    let heading = $(this).text().replace(/[ %{}|^~\\[\\]()\"'+<>%'&\\.\\/?:@;=,]/g, '_').replace(/^.+_svg_/, '').toLowerCase().replace( /_+$/, '' );\n\n    //console.log( heading );\n\n    $(this).attr('id', heading );\n\n  });\n\n  if ( isMobile ){ \n\n    // make sections collapsable\n    // see also: https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_collapsible\n\n    // wrap the parent-element of each found h1, h2 and h3 in a collapsable-title-button (but skip first h1?)\n    //$('h1:not(:first),h2,h3').each(function(){\n\n      // TODO\n      //$(this).wrap('<button type=\"button\" class=\"collapsible\"></button>');\n\n      //$(this).nextAll().wrapAll( '<div class=\"collapsable-content\"></div>');\n      // see also:\n      //  https://api.jquery.com/siblings/\n      //  https://api.jquery.com/nextAll/\n\n    //});\n\n    // add interactivity\n    /*\n    const coll = document.getElementsByClassName(\"collapsible-content\");\n\n    for ( let i = 0; i < coll.length; i++ ) {\n\n      coll[i].addEventListener(\"click\", function() {\n\n        this.classList.toggle(\"active\");\n\n        var content = this.nextElementSibling;\n\n        if (content.style.display === \"block\") {\n          content.style.display = \"none\";\n        }\n        else {\n          content.style.display = \"block\";\n        }\n\n      });\n\n    }\n    */\n\n  }\n  else{ // desktop sidebar ToC\n\n    // tocbot API:\n    //   http://tscanlin.github.io/tocbot/\n    //   https://github.com/tscanlin/tocbot/\n\n    tocbot.init({\n      tocSelector: '.js-toc',\n      contentSelector: '.js-toc-content',\n      headingSelector: 'h2, h3, h4, h5, h6',\n      //headingSelector: 'h1, h2, h3, h4, h5, h6',\n      ignoreSelector: '#notes',\n      //headingsOffset: 1,\n      onClick: clickedToc,\n      //scrollEndCallback: function (e) { },\n      collapseDepth: 1,\n      scrollSmooth: false, // don't enable!!\n      //scrollSmoothDuration: 420,\n      orderedList: true,\n      // onclick function to apply to all links in toc. will be called with\n      // the event as the first parameter, and this can be used to stop,\n      // propagation, prevent default or perform action\n      // onClick: false,\n      //throttleTimeout: 100,\n    });\n\n  }\n\n}\n\nfunction setupMIDI(){\n\n  $('a.midi').each(function(index, value){\n\n    const midi_url  = $(this).attr('href');\n    const midi_id   = 'midi-' + index; // $(this).attr('title');\n    $(this).after('<midi-player src=\"' + midi_url + '\"> </midi-player>');\n\n\t\t$(this).hide(); // hide original wikipedia-link\n\n  });\n\n}\n\nfunction setupImageClicks(){\n\n  $('img')\n    .not('.no-enlarge')\n    .not('.mwe-math-fallback-image-inline')\n    .not('.mwe-math-fallback-image-display')\n    .attr('loading', 'lazy')\n    .addClass('enlargable');\n\n  // remove the \"enlargable\"-class from icons in infobox\n  // (CSS selectors can't filter attributes numerically!)\n  $('img.enlargable').each(function( index ){\n\n    if (  $(this).attr('width') < min_image_width_for_enlarge ||\n          $(this).attr('height') < min_image_height_for_enlarge\n      ){\n\n      $(this).removeClass('enlargable');\n\n    }\n\n  });\n\n\t// see: https://lcweb.it/lc-lightbox/documentation\n\tconst LC = lc_lightbox('.elem', {\n\t\twrap_class: 'lcl_fade_oc',\n\t\tgallery : true, \n\t\tthumb_attr: false, // 'data-lcl-thumb', \n    tn_hidden: true,\n    thumbs_nav: true,\n\t\tdownload: true,\n\t\tskin: 'minimal',\n    counter: true,\n    touchswipe: true,\n\t\t//fullscreen: false,\n\t\t//fs_only: true,\n    //on_fs_exit: function(){ console.log('close LC'); close_lb(); }\n\t}); \n\n}\n\nfunction setupAudiomassLinks(){\n\n  $('.haudio').each(function( index ){\n\n    // get audio-src link \n    const file_url      = $(this).find('source').first().attr('src'); // FIXME: always use MP3 or ONLY use MP3 for Apple iOS/Mac support.\n    const audiomass_url = explore.base + '/app/audio/?url=' + encodeURIComponent( explore.base + '/app/cors/raw/?url=https:' + file_url );\n\n    // set audiomass-link\n    $(this).find('a.link').first().attr({ 'href' : audiomass_url, onauxclick : audiomass_url }).addClass('internal');\n    \n  });\n\n}\n\nfunction setupAudioClicks(){\n\n  $('.enlargable').each(function( index ){\n\n    let val = $(this).attr('src' ).split('?')[0] || '';\n\n    if ( val.endsWith('.ogg') || val.endsWith('.oga') || val.endsWith('.mp3') || val.endsWith('.wav') ){\n\n      let audio_url = val;\n\n      console.log( 'audio found: ', audio_url );\n\n      let audio_html = '<audio controls><source src=\"' + audio_url + '\"></audio>';\n\n      // replace inner \"img\" element with audio element\n      $(this).replaceWith( audio_html );\n    }\n\n  });\n\n}\n\nfunction setupULS(){ // \"Univerdsal Language Switcher\" widget\n\n  if ( typeof languages === undefined || typeof languages === 'undefined' || languages === 'undefined' || languages === '' ){\n    return 1;\n  }\n\n  languages = JSON.parse( decodeURIComponent( languages ) );\n\n  let skip_replace = false;\n\n  if ( typeof languages === 'object' ) {\n    // do nothing\n  }\n  else {\n    languages = JSON.parse( decodeURIComponent( languages ) );\n    skip_replace = true; // FIXME prevent double-encoding and better detect + signal that the language-list has already been parsed for this article\n  }\n\n  let languages_ = {};\n\n  if ( skip_replace ){\n    languages_ = languages;\n  }\n  else {\n\n\t\t// TODO: can we improve this hack?\n\t\tif ( getParameterByName('qid') === '' || getParameterByName('qid') === false || getParameterByName('qid') === '-1' ){ // --> use the wikipedia-language structure \n\n\t\t\tfor ( let [key, value] of Object.entries( languages ) ) {\n\n\t\t\t\tlanguages_[ key ] = value;\n\n\t\t\t}\n\n\n\t\t}\n\t\telse { // qid-URL --> use the wikidata-language-structure \n\n\t\t\tfor ( let [key, value] of Object.entries( languages ) ) {\n\n\t\t\t\tif ( key.endsWith('wiki') ){ // use only the \"wikipedia\" links\n\n\t\t\t\t\tkey               = key.replace(/wiki$/, '');\n\t\t\t\t\tlanguages_[ key ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n  }\n\n  let title_ = '';\n\n  $( '.uls-trigger' ).uls( {\n\n    onSelect: function( l ) {\n\n      language = l;\n\n      // get matching article-title for that language\n      let title_  = languages_[ l ];\n\n      // TODO: also update \"explore.lang3\"\n\n      if ( explore.embedded ){\n\n        location.href = explore.base + '/app/wikipedia/?t=' + encodeURIComponent( title ) + '&l=' + language;\n\n      }\n      else {\n\n\t\t\t  window.parent.postMessage({ event_id: 'handleClick', data: { type: 'wikipedia', title: title_, hash: hash, language: language, languages: encodeURIComponent( JSON.stringify( languages_ ) ), current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n      }\n\n\t\t\thash = ''; // reset hash\n\n    },\n    onReady: function( l ) {\n\n\t\t\t$( \"input.uls-filterinput.uls-languagefilter.languagefilter\" ).val( 'foo' );\n\n    },\n\t\tlazyload: true, // ?\n\n    //quickList: getWikipediaLanguages(),\n    //quickList: ['en', 'hi', 'he', 'ml', 'ta', 'fr'],\n\n    languages: languages_,\n\n  });\n\n  $( '.uls-trigger' ).click( function () {\n\n    // ULS style hack: The ULS api should be probably modified to allow optional classes and not force position.\n    $( '.uls-menu' )\n      .addClass( 'uls-mobile' )\n      .css( 'right', '2.5%' );\n  });\n\n}\n\n// close the dropdown menu if the user clicks outside of it\nwindow.onclick = function(event) {\n\n  if (!event.target.matches('.dropbtn')) {\n\n    let dropdowns = document.getElementsByClassName(\"dropdown-content\");\n    let i;\n\n    for (i = 0; i < dropdowns.length; i++) {\n\n      let openDropdown = dropdowns[i];\n\n      if (openDropdown.classList.contains('show')) {\n\n        openDropdown.classList.remove('show');\n\n      }\n\n    }\n\n  }\n\n}\n\nfunction clickedToc( event ){\n\n  let id = event.target.getAttribute('href');\n\n  $('html, body').animate({\n      scrollTop: $( id ).offset().top + 40 // verify \"40\" is correct for all devices!\n  }, 200);\n  \n}\n\nfunction goExplore( newtab ){\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'explore', title: title, hash: hash, language: language } }, '*' );\n\n  }\n\n}\n\nfunction gotoArticle( newtab ){ // used on Talk-page\n\n  if ( title.startsWith( explore.lang_talk + ':' ) ){ // on a talk page\n\n    // remove Talk: namespace from title\n    title = title.replace( explore.lang_talkre, '');\n\n  }\n\n  const url = explore.base + '/app/wikipedia/?t=' + encodeURIComponent( title ) + '&l=' + explore.language + '&voice=' + explore.voice_code + '&qid=' + '&dir=' + explore.language_direction;\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url , title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n  }\n\n}\n\nfunction gotoTalkPage( newtab ){\n\n  if ( title.startsWith( explore.lang_talk + ':' ) ){ // already on a talk page\n\n    return 0;\n\n  }\n\n  const url = explore.base + '/app/wikipedia/?t=' + encodeURIComponent( explore.lang_talk + ':' + title ) + '&l=' + explore.language + '&voice=' + explore.voice_code + '&qid=' + '&dir=' + explore.language_direction;\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url , title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n  }\n\n}\n\nfunction gotoVideo( newtab ){\n\n  const url = explore.base + '/app/video/#/search/' + quoteTitle( title );\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url , title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n  }\n\n}\n\nfunction gotoImages( newtab ){\n\n  const url = 'https://www.bing.com/images/search?&q=' + quoteTitle( title ) + '&qft=+filterui:photo-photo&FORM=IRFLTR';\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url, title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n  }\n\n}\n\nfunction gotoBooks( newtab ){\n\n  // FIXME: when the language is changed by the user we should also update \"lang3\"\n  const url = encodeURI( 'https://openlibrary.org/search?q=' + quoteTitle( title ) + '&mode=everything&language=' + explore.lang3 );\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url, title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n  }\n\n}\n\nfunction gotoBookISBN( newtab, id ){\n\n  //console.log( id );\n\n  const url = encodeURI( 'https://openlibrary.org/search?q=ISBN%3A' + id + '&mode=everything');\n\n  window.top.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url, title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n}\n\nfunction addToCompare( ){\n\n  if ( qid !== '' ){\n\n    window.top.postMessage({ event_id: 'add-to-compare', data: { type: 'compare', title: title, hash: hash, language: language, qid: qid } }, '*' );\n\n  }\n\n}\n\nfunction gotoWikipedia( newtab ){\n\n  console.log('gotoWikipedia: ', current_pane );\n\n  const url = encodeURI( 'https://' + language + '.wikipedia.org/wiki/' + title );\n\n  if ( newtab ){ openInNewTab( url ); }\n  else if ( explore.embedded ){ location.href = url; }\n  else {\n\n    parentref.postMessage({ event_id: 'handleClick', data: { type: 'link', url: url, title: title, hash: hash, language: language, current_pane: current_pane, target_pane: current_pane } }, '*' );\n\n  }\n\n}\n\nfunction detectMobile(){\n\n   return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|Mobile/i.test(navigator.userAgent) );\n\n}\n\nfunction setupKeys(){\n\n  // see:\n  //  https://github.com/RobertWHurst/KeyboardJS\n  //  https://www.jqueryscript.net/other/jQuery-Plugin-For-Scrolling-Content-with-Arrow-Keys-keyscroll.html\n\n  keyboardJS.bind('alt+y', function(e) {\n    window.parent.postMessage({ event_id: 'toggle-sidebar', data: { } }, '*' );\n  });\n\n  keyboardJS.bind('alt+i', function(e) {\n    window.parent.postMessage({ event_id: 'add-bookmark', data: { } }, '*' );\n  });\n\n  /*\n\tkeyboardJS.bind('ctrl', (e) => {\n\t\texplore.keyboard_ctrl_pressed = true;\n\t}, (e) => {\n\t\texplore.keyboard_ctrl_pressed = false;\n\t});\n\n\tkeyboardJS.bind('ctrl', null, (e) => {\n\t\texplore.keyboard_ctrl_pressed = false;\n\t});\n  */\n\n}\n\nfunction setupImageZoom(){ // using OpenSeaDragon\n\n\t// see: https://openseadragon.github.io/docs/\n\t$('#openseadragon').hide;\n\n\twindow.viewer = OpenSeadragon({\n\n\t\tid: \"openseadragon\",\n\n\t\tprefixUrl: explore.base + '/app/explore2/node_modules/openseadragon/build/openseadragon/images/',\n\n\t\ttileSources: {\n\t\t\ttype: 'image',\n\t\t\turl:  '../explore2/assets/images/icon_home.png',\n\t\t\tcrossOriginPolicy: 'Anonymous',\n\t\t\tajaxWithCredentials: false,\n      //maxZoomLevel: 10,\n      //maxZoomPixelRatio: 2,\n      //visibilityRatio: 0.2,\n\t\t},\n\n    showNavigator:  true,\n    navigatorSizeRatio: 0.25,\n\n\t});\n\n\twindow.viewer.world.addHandler('add-item', function(event) {\n\n\t\tlet tiledImage = event.item;\n\n\t\ttiledImage.addHandler('fully-loaded-change', fullyLoadedHandler);\n\n    window.viewer.navigator.addTiledImage( {\n     tileSource: tiledImage, \n    });\n\n\t});\n\n\twindow.viewer.setVisible(true);\n\n}\n\nfunction fullyLoadedHandler() {\n\n\t$('#loader-openseadragon').hide();\n\n}\n\nfunction addSectionTTS(){\n\n  // TODO:\n  //  - Safari desktop: pause and stop button not working\n  //  - Firefox mobile global-speaking button is broken sometimes: figure out which text is causing the breaking and remove it.\n\n  let text = '';\n\n\tif ( explore.tts_enabled ){\n\n    $('h2:first').append(\n\n      $('<span class=\"section-title-button\" title=\"stop speaking\" onclick=\"stopSpeaking()\" tabIndex=\"0\"><i class=\"fa-solid fa-stop\"></i></span>&nbsp;' + \n        '<span class=\"section-title-button\" title=\"pause speaking\" onclick=\"pauseSpeaking()\" tabIndex=\"0\"><i class=\"fa-solid fa-pause\"></i></span>' +\n        '<span class=\"section-title-button\" title=\"start speaking from here\" onclick=\"startSpeaking()\" tabIndex=\"0\"><i class=\"fa-solid fa-play\"></i></span>' )\n\n    );\n\n\t\t$('.mw-parser-output h2, .mw-parser-output h3, .mw-parser-output h4').each(function(index, value) {\n\t\t\t\n\t\t\tif ( $(this).attr('id') === 'see_also'){\n\t\t\t\t// do nothing\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\ttext  = $(this).nextAll('p, h2, h3, h4, h5, h6, ul, li, dl, dd').clone()\n\t\t\t\t\t\t.find( explore.tts_removals ).remove()\n\t\t\t\t\t\t.end().text();\n\n\t\t\t\ttext = $(this).text() + text;\n        text = cleanText( text );\n\n\t\t\t\t$(this).append(\n\n\t\t\t\t\t$('<span class=\"section-title-button\" title=\"stop speaking\" onclick=\"stopSpeaking()\" tabIndex=\"0\"><i class=\"fa-solid fa-stop\"></i></span>&nbsp;' + \n            '<span class=\"section-title-button\" title=\"pause speaking\" onclick=\"pauseSpeaking()\" tabIndex=\"0\"><i class=\"fa-solid fa-pause\"></i></span>' +\n            '<span class=\"section-title-button\" title=\"start speaking from here\" onclick=\"startSpeaking( \\'' + text + '\\' )\" tabIndex=\"0\"><i class=\"fa-solid fa-play\"></i></span>')\n\n\t      );\n\t\t\n\t    }\n\n    });\n\n    // allow the user to enter-click on the TTS-buttens\n    $( '.section-title-button' ).on( 'keyup' , function( event ){\n\n      if ( event.keyCode == 13 ){\n\n        $(this).click();\n\n      }\n\n    });\n\n  }\n\n} \n"],
  "mappings": "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",
  "names": []
}
