"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getInitialTargetsShiftLeft = void 0;
var getFromMap_1 = require("./getFromMap");
// o -> siblings
// p -> Partners
// x -> node
// if  000xpp oooxpp ooxPP
// THE Os and Ps should not be counted!
//because parent will center itself on the REAL children
var getInitialTargetsShiftLeft = function (source, targets, settings, map) {
    return (targets.reduce(function (totalWidth, target, index) {
        var siblings = getFromMap_1.getFromMap(target[settings.nextBeforeAccessor], map);
        var partners = getFromMap_1.getFromMap(target[settings.nextAfterAccessor], map);
        //for the first child, we don't care about the padding (siblings) left
        if (index !== 0) {
            siblings === null || siblings === void 0 ? void 0 : siblings.forEach(function (node) {
                totalWidth += node.width + node.marginRight;
            });
        }
        //do not add margin from last target
        totalWidth +=
            target.width + (index === targets.length - 1 ? 0 : target.marginRight);
        if (index !== targets.length - 1) {
            partners === null || partners === void 0 ? void 0 : partners.forEach(function (partner) {
                totalWidth += partner.width + partner.marginRight;
            });
        }
        return totalWidth;
    }, 0) /
        2 -
        source.width / 2);
};
exports.getInitialTargetsShiftLeft = getInitialTargetsShiftLeft;
//# sourceMappingURL=getInitialTargetsShiftLeft.js.map